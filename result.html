<!DOCTYPE html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript" src="tts.js"></script>
  <link rel="stylesheet" type="text/css" href="result.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <script>
    var getUrlParameter = function getUrlParameter(sParam) {
      var sPageURL = decodeURIComponent(window.location.search.substring(1));
      var sURLVariables = sPageURL.split("&");
      for (var i = 0; i < sURLVariables.length; i++) {
        var sParameterName = sURLVariables[i].split("=");
        if (sParameterName[0] === sParam) {
          return sParameterName[1] === undefined ? true : sParameterName[1];
        }
      }
      return false;
    };

    var wrap;

    function runAfterEvent() {
      var fw = getUrlParameter("pfw");
      $(".contentWrap .front h1").css("background", "url('" + fw + "') center top / cover no-repeat");
      console.log("1");
      wrap = document.querySelector(".contentWrap");
      $(".contentWrap").show();

      wrap.classList.add("active");
    }

    $(document).ready(function () {
      var nm = getUrlParameter("pfw");
      $("div.nm").text(nm.split("/").pop().split("_")[0]);

      var bg = getUrlParameter("pBg");
      $(".bgs").append("<img class='img_bg' src='" + bg + "'>");
      console.log($(".bgs").html());
      $(".bgs > img.img_bg").delay(500).fadeIn(500).delay(2000).fadeOut(500);
      setTimeout(function () {
        $(".bgs").css("width", "100%");
        runAfterEvent();
      }, 4000);

      var fw = getUrlParameter("pfw");
      var bg = getUrlParameter("pBg");

      var imagePreload = new Image();
      imagePreload.src = fw;
      imagePreload.src = bg;

      imagePreload.onload = function() {
        
      }
    });
  </script>
</head>
<style>
  div.bgs {
    width: 100vh;
    height: 100vh;
  }
  div.bgs > img.img_bg {
    position: absolute;
    top: 14%;
    left: calc(50% - 540px);
    display: none;
  }
  div.contentWrap {
    display: none;
    top: 45%;
    left: 20%;
  }
</style>
<body>
  <div class="container">
    <div class="bgs">
      <div class="contentWrap">
        <div class="front">
          <h1 class="animate__animated animate__fadeInRight"></h1>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
