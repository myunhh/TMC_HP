<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <link rel="stylesheet" type="text/css" href="result.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <style>
      div.bgs {
        width: 100vh;
        height: 100vh;
      }
      div.bgs > img.img_bg {
        position: absolute;
        top: 15%;
        left: 34.5%;
        display: none;
        width: 30%;
        height: 71%;
      }
      div.contentWrap {
        display: none;
        top: 45%;
        left: 20%;
      }
    </style>
    <script>
      var getUrlParameter = function (sParam) {
        var sPageURL = decodeURIComponent(window.location.search.substring(1));
        var sURLVariables = sPageURL.split("&");
        for (var i = 0; i < sURLVariables.length; i++) {
          var sParameterName = sURLVariables[i].split("=");
          if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
          }
        }
        return false;
      };

      var wrap;

      function runAfterEvent() {
        var fw = getUrlParameter("pfw");
        $(".contentWrap .front h1").css(
          "background",
          "url('" + fw + "') center top / cover no-repeat"
        );
        console.log("1");
        wrap = document.querySelector(".contentWrap");
        $(".contentWrap").show();

        wrap.classList.add("active");
      }

      $(document).ready(function () {
        var nm = getUrlParameter("pfw");
        $("div.nm").text(nm.split("/").pop().split("_")[0]);
        var bg = getUrlParameter("pBg");
        $(".bgs").append("<img class='img_bg' src='" + bg + "'>");
        console.log($(".bgs").html());
        $(".bgs > img.img_bg").delay(500).fadeIn(500).delay(2000).fadeOut(500);
        setTimeout(function () {
          $(".bgs").css("width", "100%");
          runAfterEvent();
        }, 4000);

        var fw = getUrlParameter("pfw");
        var bg = getUrlParameter("pBg");

        var pBac = getUrlParameter("pBac");
        if (pBac) {
          $("body").css(
            "background",
            "url('" + pBac + "') center top / cover no-repeat"
          );
        }

        var flag = getUrlParameter("pFg");
        var info = getUrlParameter("pIf");

        if (info) {
          $(".contentWrap .front h2").css(
            "background",
            "url('" + info + "') center top / cover no-repeat"
          );
        }

        if (flag) {
          $(".contentWrap .front h3").css(
            "background",
            "url('" + flag + "') center top / cover no-repeat"
          );
          $(".contentWrap .front h4").css(
            "background",
            "url('" + flag + "') center top / cover no-repeat"
          );
        }

        var imagePreload = new Image();
        imagePreload.src = fw;
        imagePreload.src = bg;
        imagePreload.src = pBac;
        imagePreload.src = flag;
        imagePreload.src = info;

        imagePreload.onload = function () {};
      });
    </script>
  </head>
  <body>
    <div class="container">
      <div class="bgs">
        <div class="contentWrap">
          <div class="front">
            <h1 class="animate__animated animate__fadeInDown"></h1>
            <h2 class="animate__animated animate__fadeInUp"></h2>
            <h3 class="animate__animated animate__fadeInDownBig"></h3>
            <h4 class="animate__animated animate__fadeInDownBig"></h4>
            <div id="front"></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function createAnchorTag() {
        const container = document.getElementById("front");

        const anchorTag = document.createElement("a");

        anchorTag.href = "index.html";
        anchorTag.textContent = "RETURN";
        anchorTag.className = "buttons";

        container.appendChild(anchorTag);
      }

      setTimeout(createAnchorTag, 10000);
    </script>
  </body>
</html>
